<%- include("partials/header"); -%>

<h1>Hello, <%= name %>!</h1> 
<h2> Welcome to the Post-it wall! </h2>

<section id="posts">
    <% if (posts && posts.length > 0) { %>
        <ul>
            <% posts.forEach(post => { %>
                <li>
                    <h3><%= post.title %></h3>
                    <p>
                        <%= post.content.length > 100 ? post.content.slice(0, 100) + '...' : post.content %>
                    </p>
                    <a href="/post/<%= post.id %>"> <i>Read More</i></a>
                </li>
            <% }); %>
        </ul>
        <% } else { %>
            <p>No posts available.</p>
        <% } %>
</section>



<h3> Want to add a new post? Post-it! </h3>

    <form action="/add-post" method="POST">
        <label for="title">Title: </label>
        <input type="text" name="title" id="title" required>
        <br/>
        <label for="content">Content: </label>
        <textarea name="content" id="content" rows="2" required></textarea>

        <button type="submit"> Submit Post </button>



<%- include("partials/footer"); -%>